---
import { skills } from '../data/skills';
import { translations, type Locale } from '../i18n/translations';
import FPGAIcon from './FPGAIcon.astro';

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;
const t = translations[locale];

const getLevelText = (skill: typeof skills[0]) => {
  if (locale === 'en' || locale === 'pt') {
    return skill.levelEn;
  }
  return skill.level;
};

const getLevelColor = (level: string) => {
  if (level.includes('avanzado') || level.includes('advanced')) {
    return 'bg-green-500';
  }
  if (level.includes('intermedio') || level.includes('intermediate')) {
    return 'bg-blue-500';
  }
  return 'bg-yellow-500';
};
---

<section id="skills" class="py-20 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-4xl md:text-5xl font-bold mb-4 text-slate-900 dark:text-white">
        {t.skills.title}
      </h2>
      <p class="text-xl text-slate-600 dark:text-slate-400">
        {t.skills.subtitle}
      </p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto">
      {skills.map((skill, index) => {
        const levelText = getLevelText(skill);
        const levelColor = getLevelColor(levelText);
        return (
          <div 
            class="bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-700 rounded-xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-110 hover:-translate-y-2 border-2 border-slate-200 dark:border-slate-600 hover:border-blue-400 dark:hover:border-blue-500"
            style={`animation: fadeInUp 0.5s ease-out ${index * 0.1}s both;`}
          >
            <div class="text-center">
              <div class="flex justify-center items-center mb-3 transform hover:scale-125 transition-transform duration-300" style="height: 3rem;">
                {skill.name === 'VHDL' ? (
                  <FPGAIcon size={48} class="inline-block" />
                ) : (
                  <span class="text-4xl">{skill.icon || 'ðŸ’»'}</span>
                )}
              </div>
              <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-2">
                {skill.name}
              </h3>
              <div class="flex items-center justify-center space-x-2 mb-2">
                <div class={`w-3 h-3 rounded-full ${levelColor} animate-pulse`}></div>
                <span class="text-sm font-medium text-slate-600 dark:text-slate-400 capitalize">
                  {levelText}
                </span>
              </div>
            </div>
          </div>
        );
      })}
    </div>
  </div>
</section>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

